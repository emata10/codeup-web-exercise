<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Konami Code</title>
	<script src="https://code.jquery.com/jquery-2.2.4.min.js"
			integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossOrigin="anonymous"></script>
</head>
<body>

<h1>Konami Code</h1>
<script>
	"use strict";
	$(document).keyup(function (event) {
		console.log(event.keyCode);
	});
	var allowedKeys = {
		//key log
		37: 'left',
		38: 'up',
		39: 'right',
		40: 'down',
		65: 'a',
		66: 'b',
		13: 'enter'
	};
	// code sequence
	var konamiCode = ['up', 'up', 'down', 'down', 'left', 'right', 'left', 'right', 'b', 'a', 'enter'];
	
	// (position) user position
	var konamiCodePosition = 0;
	document.addEventListener('keydown', function (e) {
		var key = allowedKeys[e.keyCode];
		var requiredKey = konamiCodePosition
		if (key === requiredKey) {
			konamiCodePosition++;
			
			if (konamiCodePosition === konamiCode.length) {
				activateCheats();
				konamiCodePosition = 0;
			}
		} else {
			konamiCodePosition = 0;
		}
	});
	
	function activateCheats() {
		document.body.style.backgroundImage = "url(images/talladegaNights.jpg)";
		var audio = new Audio('shake-bake.mp3');
		audio.play();
		alert("Always Smile!");
	}
</script>
</body>
</html>